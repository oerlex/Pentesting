# Extending Disk space via terminal with other partition in between
Example Setup

![alt text](https://github.com/oerlex/Pentesting/blob/master/Sysadmin/example_partitions.PNG?raw=true)

In this case we want to add the 30GB of sda3 to sda1. Problem is, sda2 occupies some cylinders in between. Therefore we have to move sda to the end.

We first calculate the space of the sda2 partition

Last cylinder of sd2 - first cylinder of sda2  = Size
41940991-39944190 = **1996801**

We add some extra space cylinders to give us some breathing room (9 in this example) **1996810**

Then we subtract that value by the last total cylinder

Last cylinder total - Size of sda2 = **102860789**

Now we know where to move sda2 to.

```
sudo fdisk -u /dev/sda/
# Delete the swap (5) and extended (2) partition

d -> 5
d -> 2

# Create a partition with the previously calculated starting point and 'w' write to disk
n -> 2 -> p -> 102860789 -> keep default -> w

# Delete sda1 and recreated with a different size
d -> 1
n -> 1 -> p -> 2048 -> 102860788 -> w

# Reboot and run 
sudo resize2fs /dev/sda1
```

Voil√°

![alt text](https://github.com/oerlex/Pentesting/blob/master/Sysadmin/example_partitions_after.PNG?raw=true)
