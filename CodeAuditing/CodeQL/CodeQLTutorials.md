#### Tutorials  

Thief

```sql
import tutorial

from Person person
where person.getHeight() > 150
and person.getAge() > 30
and (person.getHairColor() = "brown" or person.getHairColor() = "black")
and (person.getHeight() > 190 or person.getHeight() < 180)
and person.getAge() = max(int i | exists(Person p | p.getAge() = i and p.getLocation() = "east") | i)
select person
```


##### Classses and Predicates

```sql
import tutorial

predicate isSouthern(Person p){
	p.getLocation() = "south"
}

// Returns a person or not
predicate isBald(Person p){
	not exists(string c | p.getHairColor() = c)
}

// Does the same as the predicate before but returns a boolean
boolean isBald2(Person p){
  	if not exists(string a | p.getHairColor() = a)
	then result = true
  	else result = false
}

class Southerner extends Person{
	Southerner() {isSouthern(this)}
}

class Child extends Person{
	Child() {this.getAge() < 10}
  
  	override predicate isAllowedIn(string region){
  		this.getLocation() = region
  	}
}

from Southerner s
where s.isAllowedIn("north")
and isBald2(s) = true
select s

```

#### Crowing a Heir

```sql
import tutorial

Person childOf(Person p){
 	p = parentOf(result) 
}

Person ancestorOf(Person p){
 	result = parentOf(p) or 
  	result = parentOf(ancestorOf(p))
}

Person relativeOf(Person p){
	parentOf*(result) = parentOf*(p)
}

predicate isSouthener(Person p){
	p.getLocation() = "south"
}

class Southener extends Person{
 	Southener() {isSouthener(this)}
}

class Child extends Person{
  	Child() {this.getAge() < 10}
	override predicate isAllowedIn(string region){
    	region = this.getLocation()
  	}
}

predicate isThief(Person p){
	p.getHeight() > 150
	and p.getAge() < 30
	and p.getHairColor() = "brown" or p.getHairColor() = "black"
	and not p.getAge() = max(int i | exists(Person t | t.getAge() = i) | i)
}

predicate isFireStarter(Southener s){
  	s.isAllowedIn("north")
  	and not exists(string c | s.getHairColor() = c)  	
}

predicate hasCriminalRecord(Person p){
	isThief(p)
  	or isFireStarter(p)
}


from Person p
where relativeOf(p) = relativeOf("King Basil") and
  not p = "King Basil"
and not p.isDeceased()
and not hasCriminalRecord(p)
select p